!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("ExploratoryMap",[],e):"object"==typeof exports?exports.ExploratoryMap=e():t.ExploratoryMap=e()}(window,(function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}({"./asset/src/exploratory-text.js":
/*!***************************************!*\
  !*** ./asset/src/exploratory-text.js ***!
  \***************************************/
/*! no static exports found */function(t,e,n){n(/*! ./exploratory-text.scss */"./asset/src/exploratory-text.scss");class o{constructor(t={}){this.options=Object.assign({selector:".exploratory-text-block",color:"#0dae0b"},t),this.block=document.querySelector(this.options.selector),this.block||console.warn('No element matched the selector "'+this.options.selector+'"'),this.svg=d3.select(this.block).append("svg"),this.side=this.block.querySelector(".et-side"),this.sideInner=this.side.querySelector(".et-side-inner"),this.nav=document.querySelector("nav.fixed"),this.highlights=[],this.annots=[],this.paths=[],this.init()}drawConnection(t,e,n,o){if(!e||!n||!o)return;const i=e.querySelector(".et-first"),s=this.block.getBoundingClientRect(),l=i.getBoundingClientRect(),c=n.getBoundingClientRect(),r=(document.documentElement.scrollTop,c.right-s.left),a=c.y+c.height/2-s.top,d=l.left-s.left,h=l.y+l.height/2-s.top;return t.moveTo(r,a),t.lineTo(d,h),t}makeConnections(){this.highlights.forEach((function(t,e){}))}selectAnnotation(t){let e=this.annots[t],n=this.highlights[t];this.paths[t];e&&e.classList.add("selected"),n&&n.classList.add("selected"),this.scrollTo(t),this.makeConnections()}showConnection(t){let e=this.annots[t],n=this.highlights[t];this.paths[t];e&&n&&e.classList.contains("selected")&&n.classList.contains("selected")&&(e.classList.add("preview"),n.classList.add("preview"),this.makeConnections())}hideConnection(t){this.annots[t],this.highlights[t],this.paths[t];this.makeConnections()}scrollTo(t){const e=this.annots[t],n=document.querySelector("nav.fixed"),o=this.block.querySelector(".et-side-inner");if(!e)return;const i=e.getBoundingClientRect(),s=(o.getBoundingClientRect(),n.getBoundingClientRect());o.scrollBy({top:i.top-s.height,behavior:"smooth"})}positionAnnotations(t){const e=this.block.getBoundingClientRect(),n=this.nav.getBoundingClientRect(),o=this.side.getBoundingClientRect();this.sideInner.style.width=o.width+"px",this.side.style.height=this.sideInner.scrollHeight+o.top+"px",e.y<=n.height?(this.sideInner.style.height=window.innerHeight-n.height+"px",this.sideInner.style.position="fixed",this.sideInner.style.left=o.x+"px",this.sideInner.style.top=n.height+"px"):(this.sideInner.style.position="absolute",this.sideInner.style.left="",this.sideInner.style.top="")}resizeAnnotation(t){t.classList.toggle("et-less")}unselectAnnotation(t){const e=t.dataset.index;this.highlights[e];t.classList.remove("selected")}init(){const t=this,e=document.querySelector(".et-side-inner"),n=this.block.querySelectorAll(".et-inner a"),o=document.querySelectorAll(".et-annot");let i=0;o.forEach((o,s)=>{o.querySelector(".et-annot-body");const l=o.querySelector(".et-annot-index"),c=o.querySelector(".et-annot-toggle"),r=o.querySelector(".et-annot-close"),a=(o=e.appendChild(o)).dataset.highlight;n.forEach((function(e,n){if(a===e.innerText){const n=o.dataset.type;e.classList.add("et-highlight"),e.dataset.type=n,e.dataset.index=i,o.dataset.index=i,l.innerText=i+1,t.annots.push(o),t.highlights.push(e)}})),o.onmouseover=function(e){let n=o.dataset.index;t.showConnection(n)},o.onmouseleave=function(e){let n=o.dataset.index;t.hideConnection(n)},c.onclick=function(e){t.resizeAnnotation(o)},r.onclick=function(e){t.unselectAnnotation(o)},o.classList.remove("hidden"),i++}),n.forEach((function(e,n){const o=e.dataset.type,i=e.dataset.index,s=t.annots[i];s&&s.classList.add(o);let l=e.innerText,c=parseInt(e.dataset.index),r=l.split(" "),a=r.length;isNaN(c)?e.setAttribute("class","inactive"):(r.length>1?(r[0]="<span class='et-first'>"+r[0]+"</span>",r[a-1]="<span class='et-last' data-index-label='"+(c+1)+"'>"+r[a-1]+"</span>"):r[0]="<span class='et-first et-last' data-index-label='"+(c+1)+"'>"+r[0]+"</span>",e.innerHTML=r.join(" ")),e.onclick=function(n){n.preventDefault();let o=e.dataset.index;t.selectAnnotation(o)},e.onmouseover=function(n){let o=e.dataset.index;t.showConnection(o)},e.onmouseleave=function(n){let o=e.dataset.index;t.hideConnection(o)}})),this.side.onscroll=function(e){t.makeConnections()},window.onscroll=function(e){t.positionAnnotations(),t.makeConnections()},window.onresize=function(e){t.positionAnnotations(),t.makeConnections()},this.positionAnnotations(),this.makeConnections()}}window.onload=function(){new o}},"./asset/src/exploratory-text.scss":
/*!*****************************************!*\
  !*** ./asset/src/exploratory-text.scss ***!
  \*****************************************/
/*! no static exports found */function(t,e,n){},0:
/*!*********************************************!*\
  !*** multi ./asset/src/exploratory-text.js ***!
  \*********************************************/
/*! no static exports found */function(t,e,n){t.exports=n(/*! /Users/coreytegeler/Sites/mct.barnard.edu/modules/ExploratoryText/asset/src/exploratory-text.js */"./asset/src/exploratory-text.js")}})}));